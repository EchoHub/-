# 白屏检测
页面白屏是指页面访问时出现页面长时间无法正常访问的现象。

### 生产环境遇到白屏问题怎么办
- 收集用户反馈
    - 设备信息
    - 用户信息
    - 操作路径
    - ...

- 白屏定位、解决

### 产生白屏的原因以及排查方式
在对白屏产生原因排查时候，需要考虑网络原因、浏览器相关原因、脚本执行原因以及脚本执行逻辑原因
- 网络相关
    - 网络访问异常
    - 资源服务器响应异常
    - 数据请求响应异常
- 浏览器相关
    - 缓存导致
        - 浏览器缓存了错误的版本导致页面白屏
        - 【解决】可通过打开无痕浏览器访问排查
    - 兼容性导致
        - 浏览器版本与执行代码要求的版本不兼容导致
        - 【解决】换几个其他浏览器访问排查
    - 浏览器插件导致
        - 部分浏览器插件导致页面白屏
        - 【解决】可通过打开无痕浏览器访问排查
- 代码文件（JS/CSS）相关
    - JS执行异常相关
        - 打开本地调试面板，看是否有js异常信息
    - JS执行逻辑异常
        - 定位异常模块，进行debugger调试
    - CSS执行异常排查
        - 元素审查，排查是否是由于元素被隐藏或者删除
    - 数据异常
        - 排查是否是由于网络数据返回异常 
- 第三方工具辅助排查
    - 通过抓包工具（Charles、Stream等），排查资源请求、网络请求是否异常

### 白屏检测方案

- onerror监听 + window.addEventListener('error')
    - 通过监听error可以捕获资源加载的异常，而onerror不行


### 异常上报
- 可通过构造图片打点的形式上报信息，这样不会阻塞页面渲染
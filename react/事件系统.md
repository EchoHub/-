# React 事件系统

###  总结
- 事件并没有注册在对应的元素上，而是绑定在container上进行统一管理
- react注册的事件为合成事件，有可能会拆分成多个原生事件与之对应
- react是根据按需原则，将需要的事件绑定到container上

### 合成事件
- 目的
    - 方便管理
    - 平台差异性磨平
    - 通过事件池实现事件对象的复用

### 事件注册
react在处理props属性时，会根据不同的事件名，找到对应的事件处理插件，构建合成事件与原生事件的关系以及构建合成事件与对应处理函数的关系

### 事件绑定
react在reconciler阶段会根据fiber上记录的合成事件的信息，遍历合成事件对应的原生事件并判断事件是在冒泡阶段还是捕获阶段，在container上依次注册统一的事件处理函数

### 事件触发
当事件触发时根据事件的冒泡原则，最终会冒泡到container上，触发统一的事件处理函数dispatchEvent，并根据原生对象找到对应的fiber对象，并从事件源开始向上收集冒泡、捕获事件，形成有序的事件队列调用，若其中遇到阻止冒泡则跳出循环
# setState

### setState同步异步问题
- react18前
    - 在生命周期、合成事件中 异步
    - 在定时器、原生事件中 同步
    - 产生原因
        - react的批量更新机制，react为避免高频操作setState带来的性能损耗，在一次渲染触发周期内会对setState操作进行收集，待同步任务执行完成之后触发批量处理
- react18后
    - 异步
        - 自动批处理机制